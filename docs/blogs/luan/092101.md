---
title: 开始，写的第一个文章
date: 2020-10-11
tags:
 - 踩坑
 - vuepress
categories:
 - 杂七杂八

---

::: tip
使用vuepress-reco搭建博客
:::

## vuepress  

Vue 驱动的静态网站生成器

### vuepress-them-reco

一款简洁而优雅的 vuepress 博客 & 文档 主题。

### 安装踩坑

1.创建目录并初始化

```bash
mkdir vuepress-starter && cd vuepress-starter
npm init
```

2.安装vuepress

```bash
#全局安装 包安装在Node安装目录下的node_modules文件夹中，一般在 \Users\用户名\AppData\Roaming\ 目录下，可以使用npm root -g查看全局安装目录。
npm install -g vuepress
#本地安装 包安装在指定项目的node_modules文件夹下
npm install -D vuepress
```

3.安装主题reco(不使用脚手架)

```bash
npm install vuepress-theme-reco --save-dev
```

4.目录结构

```python
.
├─ docs
│  ├─ README.md
│  └─ .vuepress
│     └─ config.js
└─ package.json
```

5.在 `package.json` 中添加一些 [scripts](https://classic.yarnpkg.com/zh-Hans/docs/package-json#toc-scripts)

```json
{
  "scripts": {
    "docs:dev": "vuepress dev docs",
    "docs:build": "vuepress build docs"
  }
}
```

### config.js配置

```js
module.exports = {
  "title": "",
  "description": "",
  "dest": "public",//build生成静态文件位置，大坑！！！怪不得部署时在默认的dist文件夹下找不到。
  locales: {
    '/': {
      lang: 'zh-CN'
    }
  },
  "head": [
    [
      "link",
      {
        "rel": "icon",
        "href": "/favicon.ico"
      }
    ],
    [
      "meta",
      {
        "name": "viewport",
        "content": "width=device-width,initial-scale=1,user-scalable=no"
      }
    ]
  ],
  "theme": "reco",
  "themeConfig": {
    "nav": [
      {
        "text": "主页",
        "link": "/",
        "icon": "reco-home"
      },
      {
        "text": "时间轴",
        "link": "/timeline/",
        "icon": "reco-date"
      },
      {
            "text": "GitHub",
            "link": "https://github.com/u4250",
            "icon": "reco-github"
      }
    ],
    subSidebar: 'auto',
    "type": "blog",
    "blogConfig": {
      "category": {
        "location": 2,
        "text": "分类"
      },
      "tag": {
        "location": 3,
        "text": "标签"
      }
    },
    "logo": "/logo.png",
    "search": true,
    "searchMaxSuggestions": 10,
    "lastUpdated": "Last Updated",
    "author": "u4250",
    "authorAvatar": "/bg.jpg",
    "record": "xxxx",
    "startYear": "2020"
  },
  "markdown": {
    "lineNumbers": true
  }
}
```



### deploy.sh(发布)

```bash
#!/usr/bin/env sh

# 确保脚本抛出遇到的错误
set -e

# 生成静态文件
npm run docs:build

# 进入生成的文件夹 config.js里配置
cd public

# 如果是发布到自定义域名
# echo 'www.example.com' > CNAME

git init
git add -A
git commit -m 'deploy'

# 如果发布到 https://<USERNAME>.github.io
# git push -f git@github.com:<USERNAME>/<USERNAME>.github.io.git master

# 如果发布到 https://<USERNAME>.github.io/<REPO>
git push -f git@github.com:u4250/blog.git master:gh-pages

cd -
git add -A
git commit -m "ces"
git push
```

